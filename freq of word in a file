#include <stdio.h>
#include <ctype.h>
#include <string.h>
#include <stdlib.h>

#define MAX_WORD_LENGTH 100
#define MAX_FILE_NAME 100

// Function to convert to lowercase
void toLowercase(char *str) {
    for (int i = 0; str[i]; i++) {
        str[i] = tolower(str[i]);
    }
}

int main() {
    FILE *file;
    char filename[MAX_FILE_NAME];
    char word[MAX_WORD_LENGTH];
    char temp[MAX_WORD_LENGTH];
    int count = 0;

    printf("Enter file name: ");
    scanf("%s", filename);

    printf("Enter word to search: ");
    scanf(" %[^\n]%*c", word);

    // Convert word to lowercase
    toLowercase(word);

    file = fopen(filename, "r");

    if (file == NULL) {
        printf("Error opening file.");
        exit(1);
    }

    while (fscanf(file, "%s", temp) != EOF) {
        // Convert temp to lowercase
        toLowercase(temp);

        // Remove punctuation
        temp[strcspn(temp, "\n")] = 0;
        for (int i = 0; temp[i]; i++) {
            if (!isalnum(temp[i])) {
                temp[i] = '\0';
                break;
            }
        }

        if (strcmp(temp, word) == 0) {
            count++;
        }
    }

    printf("Frequency of '%s': %d\n", word, count);

    fclose(file);

    return 0;
}

